<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Web Animation Showcase</title>

        <link href="style/webanim.css" rel="stylesheet"></link>
        <link href="style/menu.css" rel="stylesheet"></link>

    <script src="src/SvgHelper.js"></script>
    <script src="src/LinearSequence.js"></script>

    <script src="src/painting/Memo.js"></script>
    <script src="src/painting/IslandsPainting.js"></script>
    
    <script src="src/scene/BarScene.js"></script>


    <!-- bower:js -->
    <script src="components/Snap.svg/dist/snap.svg-min.js"></script>
    <!-- endbower -->

    </head>

<body>
    

    <script>
        let scenes = {
            'islands' : {
                classname : 'IslandsPainting'
            },
            'bar' : {
                classname : 'BarScene'
            }
        }
        
        function setupScene(key){
            console.log('setup scene ' + key);
            let classname = scenes[key].classname;
            let sceneInstance = eval("new " + classname + "()");
            let promise = sceneInstance.initialize();
            promise.then((node)=>{
                let sceneElt = document.getElementById('scene'); 
                sceneElt.innerHTML  = '';
                sceneElt.appendChild(node);    
                sceneInstance.stage();
            });
        }
        
        
        function navigate(key, target){
            clearNav();
            target.classList.add("active");
            setupScene(key);
        }
        
        function clearNav(){
            let links = document.getElementsByClassName('topnav')[0].children;
            for (let link of links) {
                link.classList.remove("active")
            };
        }
        
        document.addEventListener('DOMContentLoaded', async function() {
            let elt = document.getElementsByClassName('topnav')[0].firstElementChild.click();
        });        
    </script>
    
    

        
<div class="topnav">
  <a href="#bar" onclick="navigate('bar', this)">Bar</a>
  <a href="#islands" onclick="navigate('islands', this)">Iles</a>
</div>

<div id="scene">
    
</div>
            
    

</body>
</html>
